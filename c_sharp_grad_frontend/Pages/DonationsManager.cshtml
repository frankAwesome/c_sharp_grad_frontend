@page
@model c_sharp_grad_frontend.Pages.DonationsManagerModel
@{
    ViewData["Title"] = "DonationsManager";
    var imgSrc = String.Format("data:image/gif;base64,{0}", @Model.image);
}

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="~/js/sweetalert2.all.min.js"></script>
<script src="~/js/sweethelper.js"></script>


<!-- Optional: include a polyfill for ES6 Promises for IE11 -->
<script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script>


<style>

    .heading{
        display: flex;
        flex-direction: column;
        justify-content: center;
        text-align: center;
    }

    .donateBox {
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        border-radius: 20px;
        margin: 1vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #333333e3;

    }

    .donated {
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        border-radius: 20px;
        margin: 1vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #34eb83;
        float: left;
    }


    .cards {
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        border-radius: 20px;
        margin: 1vh 0 5vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-image: url('/images/donations.jpg');
        background-size: cover;
        width: 80%;
        height: 100%;

    }

    .donationCard {
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        border-radius: 20px;
        margin: 1vh;
        background-color: white;
        text-align: center;
    }

    .donationCard:hover {
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.4);
    }

    .cards:hover {
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
    }

    .container {
        padding: 2px 16px;
    }

    .container {
    display: flex;
    text-align: center;
    margin: 5vh 0 10vh;
    }
    
    .left-half {
    background-color: rgba(109, 109, 109, 0.42);
    flex: 1;
    padding: 1rem;
    }

    .right-half {
    background-color: rgba(109, 109, 109, 0.42);
    flex: 1;
    padding: 1rem;
    align-items: center;
    justify-content: center;
    }

    .backgroundDiv {
        width: 100%;
        height: 100; 
        background: radial-gradient(circle, rgba(221,221,221,1) 0%, rgba(171,163,163,1) 100%);

        justify-content: 'center';
        align-items: 'center';
        background-size: cover;
    }

    h2 { color: black; font-family: 'Raleway',sans-serif; font-size: 62px; font-weight: 800; line-height: 72px; margin: 0 0 24px; text-align: center; text-transform: uppercase; }

    h1 { color: #ffffff; font-family: 'Raleway',sans-serif; font-size: 62px; font-weight: 800; line-height: 72px; margin: 0 0 24px; text-align: center; text-transform: uppercase; }
</style>

<nav class="navbar navbar-dark bg-dark" style="height:100px;">

    <form class="form-inline">
        <button class="btn btn-danger" asp-page="/donate">Home</button>
        <button class="btn btn-danger" asp-page="/profile">Profile</button>
        <button class="btn btn-danger" asp-page="/donations">Donations</button>
        <button class="btn btn-danger" asp-page="/about">About</button>
        <button class="btn btn-danger" onclick="alert()">Logout</button>
    </form>

</nav>
<div class='backgroundDiv'>
        <div class='heading'><h1>Donations</h1></div>
            <div style='display: flex; justify-content: center; position: relative;'>
                <div class="cards">

                    <div style='margin: 1vh;'>
                        <img src="/images/logo2.jpg" style="width:190px; height: 140px;" class="logo" />
                    </div>

                    <div class='container'>
                        <div class="left-half">
                            <article>
                            <h1>Thank you for supporting our cause: </h1>
                            <div class="card card-cascade narrower">
                                <div class="table-wrapper-scroll-y my-custom-scrollbar">

                                    <table class="table table-bordered table-striped mb-0">
                                        <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Amount</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in @Model.donations)
                                            {
                                                <tr>
                                                    <td>@Html.DisplayFor(modelItem => item.TimeStamp)</td>
                                                    <td>R @Html.DisplayFor(modelItem => item.Amount)</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            </article>
                        </div>
                        
                        <div class="right-half">
                            <div class='donationCard'>
                                <div>
                                    <h2> Make a donation here: </h2>
                                    <form  method="post" enctype="multipart/form-data" asp-controller="FileUpload" asp-action="Index">
                                        <div class="form-group">
                                            <label >Donation amount</label>
                                            <div style='margin: 0 2vw 0;'>
                                                <input type="number" name="amount" required id="makedonation" class="form-control"  placeholder="Donation Amount" width="3vw"/>
                                            </div>
                                    
                                            <button type="submit"  value="DONATE" class="btn btn-outline-secondary" style='margin: 1vh;'>Donate
                                                    <div class="spinner-border text-light" style='display: none'></div>
                                            </button>
                                        </div>
                                    </form>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>